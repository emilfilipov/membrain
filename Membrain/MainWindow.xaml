<Window x:Class="Membrain.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Membrain"
        Width="336"
        MinWidth="336"
        MaxWidth="336"
        Height="700"
        WindowStyle="None"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Topmost="True"
        Background="Transparent"
        AllowsTransparency="True"
        FontFamily="Bahnschrift"
        FocusVisualStyle="{x:Null}">
  <Window.Resources>
    <Style x:Key="CardButton" TargetType="Button">
      <Setter Property="Foreground" Value="#F6EDE2" />
      <Setter Property="Background" Value="#263542" />
      <Setter Property="BorderBrush" Value="#3D5161" />
      <Setter Property="BorderThickness" Value="1" />
      <Setter Property="Padding" Value="10,8" />
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border x:Name="Root"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="10">
              <ContentPresenter HorizontalAlignment="Stretch" VerticalAlignment="Center" />
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="Root" Property="BorderBrush" Value="#6FA8D6" />
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter TargetName="Root" Property="Background" Value="#1E2A33" />
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <Style x:Key="InputBox" TargetType="Control">
      <Setter Property="Foreground" Value="#E6EEF5" />
      <Setter Property="Background" Value="#15212C" />
      <Setter Property="BorderBrush" Value="#304558" />
      <Setter Property="BorderThickness" Value="1" />
    </Style>
  </Window.Resources>

  <Border Background="#101820"
          BorderBrush="#2F4455"
          BorderThickness="1,0,1,0"
          CornerRadius="0">
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="48" />
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>

      <Grid Grid.Row="0" Margin="8,6,8,6">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="6" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Background="#6FA8D6" CornerRadius="3" Margin="0,2,10,2" />

        <StackPanel Grid.Column="1" Orientation="Vertical" VerticalAlignment="Center">
          <TextBlock Text="MEMBRAIN" Foreground="#E8EEF4" FontSize="15" FontWeight="Bold" />
          <TextBlock Text="Clipboard Strip" Foreground="#8EA1B0" FontSize="11" />
        </StackPanel>

        <Button Grid.Column="2"
                Name="SettingsToggleButton"
                Width="30"
                Height="30"
                Margin="0,2,0,0"
                Click="SettingsToggleButton_Click"
                ToolTip="Settings"
                Background="#15212C"
                BorderBrush="#304558"
                BorderThickness="1"
                Foreground="#D9E4EE"
                FontSize="16"
                Content="&#x2699;" />
      </Grid>

      <Grid Grid.Row="1" Margin="8,0,8,8">
        <Grid.RowDefinitions>
          <RowDefinition Height="*" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <ListBox Name="HistoryList"
                 Grid.Row="0"
                 Background="#0F1720"
                 BorderBrush="#263B4D"
                 BorderThickness="1"
                 Padding="6"
                 MouseDoubleClick="HistoryList_MouseDoubleClick"
                 PreviewMouseWheel="HistoryList_PreviewMouseWheel"
                 ScrollViewer.VerticalScrollBarVisibility="Auto"
                 SelectionMode="Single">
          <ListBox.ItemTemplate>
            <DataTemplate>
              <Button Style="{StaticResource CardButton}" Click="ClipboardCard_Click" Margin="0,0,0,8">
                <Grid>
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                  </Grid.ColumnDefinitions>
                  <TextBlock Text="{Binding Preview}" TextWrapping="Wrap" Foreground="#EDF3F8" Margin="0,0,10,0" />
                  <TextBlock Grid.Column="1" Text="{Binding Timestamp}" Foreground="#9BB2C4" VerticalAlignment="Top" />
                </Grid>
              </Button>
            </DataTemplate>
          </ListBox.ItemTemplate>
        </ListBox>

        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,8,0,0">
          <Button Name="CopySelectedButton"
                  Content="Copy Selected"
                  Width="110"
                  Height="30"
                  Click="CopySelectedButton_Click"
                  Style="{StaticResource CardButton}" />
          <TextBlock Name="StatusTextBlock"
                     Margin="10,6,0,0"
                     Foreground="#8EA1B0"
                     FontSize="11"
                     Text="Ready" />
        </StackPanel>
      </Grid>

      <Border Grid.RowSpan="3"
              Name="SettingsPanel"
              Visibility="Collapsed"
              Background="#0B1219"
              BorderBrush="#33506A"
              BorderThickness="1"
              Margin="12"
              CornerRadius="10"
              Padding="12">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
          <StackPanel>
            <TextBlock Text="Settings" Foreground="#E6EFF7" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10" />

            <TextBlock Text="Activation Hotkey" Foreground="#9CB0C0" />
            <TextBox Name="ActivationHotkeyTextBox" Margin="0,4,0,10" Height="30" />

            <TextBlock Text="Screen Side" Foreground="#9CB0C0" />
            <ComboBox Name="SideComboBox" Margin="0,4,0,10" Height="30">
              <ComboBoxItem Content="Left" />
              <ComboBoxItem Content="Right" />
            </ComboBox>

            <TextBlock Text="Scroll Up Key" Foreground="#9CB0C0" />
            <TextBox Name="ScrollUpKeyTextBox" Margin="0,4,0,10" Height="30" />

            <TextBlock Text="Scroll Down Key" Foreground="#9CB0C0" />
            <TextBox Name="ScrollDownKeyTextBox" Margin="0,4,0,10" Height="30" />

            <TextBlock Text="Select Key" Foreground="#9CB0C0" />
            <TextBox Name="SelectKeyTextBox" Margin="0,4,0,10" Height="30" />

            <TextBlock Text="Retained Clipboard Items" Foreground="#9CB0C0" />
            <TextBox Name="RetainedItemsLimitTextBox" Margin="0,4,0,10" Height="30" />

            <TextBlock Text="Auto-Hide Seconds" Foreground="#9CB0C0" />
            <TextBox Name="AutoHideSecondsTextBox" Margin="0,4,0,10" Height="30" />

            <Separator Margin="0,2,0,10" />

            <TextBlock Text="Updates" Foreground="#E6EFF7" FontSize="15" FontWeight="SemiBold" Margin="0,0,0,8" />

            <TextBlock Text="GitHub Repo URL" Foreground="#9CB0C0" />
            <TextBox Name="UpdateRepoTextBox" Margin="0,4,0,10" Height="30" />

            <TextBlock Text="Access Token" Foreground="#9CB0C0" />
            <PasswordBox Name="UpdateTokenBox" Margin="0,4,0,10" Height="30" />

            <CheckBox Name="IncludePrereleaseCheckBox"
                      Content="Include pre-releases"
                      Foreground="#C8D9E8"
                      Margin="0,0,0,10" />

            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
              <Button Name="SaveSettingsButton"
                      Content="Save"
                      Width="90"
                      Height="30"
                      Margin="0,0,8,0"
                      Style="{StaticResource CardButton}"
                      Click="SaveSettingsButton_Click" />
              <Button Name="CheckUpdatesButton"
                      Content="Check Updates"
                      Width="110"
                      Height="30"
                      Style="{StaticResource CardButton}"
                      Click="CheckUpdatesButton_Click" />
            </StackPanel>

            <TextBlock Name="UpdateStatusTextBlock" Foreground="#8EA1B0" FontSize="11" Text="Updates idle" />
          </StackPanel>
        </ScrollViewer>
      </Border>
    </Grid>
  </Border>
</Window>
